"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8169],{8169:(Z,v,r)=>{r.r(v),r.d(v,{FavoritesPageModule:()=>O});var i=r(4532),g=r(6814),m=r(95),p=r(5861),f=r(7394),t=r(6689),u=r(9791),_=r(6712),d=r(9310);function h(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"ion-buttons",6)(1,"ion-button",7),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.clearAllFavorites())}),t._UZ(2,"ion-icon",8),t.qZA()()}}function x(n,s){if(1&n&&(t.TgZ(0,"p"),t._UZ(1,"ion-icon",19),t._uU(2),t.qZA()),2&n){const o=t.oxw().$implicit;t.xp6(2),t.hij(" ",o.releaseDate," ")}}function C(n,s){if(1&n&&(t.TgZ(0,"p"),t._UZ(1,"ion-icon",20),t._uU(2),t.qZA()),2&n){const o=t.oxw().$implicit;t.xp6(2),t.hij(" ",o.pages," p\xe1ginas ")}}function P(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"ion-card",9)(1,"ion-card-header")(2,"ion-card-title"),t._uU(3),t.qZA()(),t.TgZ(4,"ion-card-content")(5,"div",10),t._UZ(6,"img",11),t.TgZ(7,"div",12),t.YNc(8,x,3,1,"p",13),t.YNc(9,C,3,1,"p",13),t.qZA()(),t.TgZ(10,"div",14)(11,"ion-button",15),t.NdJ("click",function(){const c=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.viewDetails(c))}),t._UZ(12,"ion-icon",16),t._uU(13," Ver Detalhes "),t.qZA(),t.TgZ(14,"ion-button",17),t.NdJ("click",function(){const c=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.removeFavorite(c))}),t._UZ(15,"ion-icon",18),t._uU(16," Remover "),t.qZA()()()()}if(2&n){const o=s.$implicit;t.xp6(3),t.Oqu(o.title),t.xp6(3),t.Q6J("src",o.cover,t.LSH)("alt",o.title),t.xp6(2),t.Q6J("ngIf",o.releaseDate),t.xp6(1),t.Q6J("ngIf",o.pages)}}function b(n,s){1&n&&(t.TgZ(0,"div",21)(1,"ion-card")(2,"ion-card-content",22),t._UZ(3,"ion-icon",23),t.TgZ(4,"h3"),t._uU(5,"Nenhum favorito ainda"),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Adicione livros aos seus favoritos para v\xea-los aqui."),t.qZA()()()())}let M=(()=>{class n{constructor(o,e,a,c,l){this.favoritesService=o,this.bookService=e,this.navCtrl=a,this.router=c,this.alertCtrl=l,this.favorites=[],this.subscription=new f.w0}ionViewWillEnter(){this.loadFavorites()}ngOnDestroy(){this.subscription.unsubscribe()}loadFavorites(){this.subscription.unsubscribe(),this.subscription=new f.w0,this.subscription.add(this.favoritesService.favorites$.subscribe(o=>{this.favorites=o||[]}))}viewDetails(o){o&&(this.bookService.setCurrentBook(o),this.router.navigate(["/book-details"],{state:{book:o}}))}removeFavorite(o){var e=this;return(0,p.Z)(function*(){yield(yield e.alertCtrl.create({header:"Remover Favorito",message:`Deseja remover "${o.originalTitle||o.title}" dos favoritos?`,buttons:[{text:"Cancelar",role:"cancel"},{text:"Remover",handler:()=>{e.favoritesService.removeFavorite(o.number||o.id)}}]})).present()})()}clearAllFavorites(){var o=this;return(0,p.Z)(function*(){0!==o.favorites.length&&(yield(yield o.alertCtrl.create({header:"Limpar Favoritos",message:"Deseja remover todos os livros dos favoritos?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Limpar Todos",handler:()=>{o.favoritesService.clearAllFavorites()}}]})).present())})()}static{this.\u0275fac=function(e){return new(e||n)(t.Y36(u.G),t.Y36(_.Z),t.Y36(i.SH),t.Y36(d.F0),t.Y36(i.Br))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["app-favorites"]],decls:11,vars:3,consts:[["slot","end",4,"ngIf"],[1,"ion-padding"],["class","favorite-card",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],["expand","block","fill","outline","routerLink","/home"],["name","home","slot","start"],["slot","end"],[3,"click"],["name","trash"],[1,"favorite-card"],[1,"book-info"],[1,"book-cover",3,"src","alt"],[1,"book-details"],[4,"ngIf"],[1,"card-actions"],["expand","block",3,"click"],["name","eye","slot","start"],["expand","block","fill","outline","color","danger",3,"click"],["name","heart-dislike","slot","start"],["name","calendar"],["name","document-text"],[1,"empty-state"],[1,"ion-text-center"],["name","heart-outline","size","large"]],template:function(e,a){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Meus Favoritos"),t.qZA(),t.YNc(4,h,3,0,"ion-buttons",0),t.qZA()(),t.TgZ(5,"ion-content",1),t.YNc(6,P,17,5,"ion-card",2),t.YNc(7,b,8,0,"div",3),t.TgZ(8,"ion-button",4),t._UZ(9,"ion-icon",5),t._uU(10," Voltar para Home "),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngIf",a.favorites.length),t.xp6(2),t.Q6J("ngForOf",a.favorites),t.xp6(1),t.Q6J("ngIf",!a.favorites.length))},dependencies:[i.YG,i.Sm,i.PM,i.FN,i.Zi,i.Dq,i.W2,i.Gu,i.gu,i.wd,i.sr,i.YI,g.sg,g.O5,d.rH],styles:[".favorite-card[_ngcontent-%COMP%]{margin-bottom:16px}.favorite-card[_ngcontent-%COMP%]   .book-info[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:16px}.favorite-card[_ngcontent-%COMP%]   .book-info[_ngcontent-%COMP%]   .book-cover[_ngcontent-%COMP%]{width:80px;height:120px;object-fit:cover;border-radius:6px;box-shadow:0 2px 8px #0003;flex-shrink:0}.favorite-card[_ngcontent-%COMP%]   .book-info[_ngcontent-%COMP%]   .book-details[_ngcontent-%COMP%]{flex:1}.favorite-card[_ngcontent-%COMP%]   .book-info[_ngcontent-%COMP%]   .book-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;display:flex;align-items:center;gap:8px;color:var(--ion-color-medium);font-size:.9rem}.favorite-card[_ngcontent-%COMP%]   .book-info[_ngcontent-%COMP%]   .book-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1rem}.favorite-card[_ngcontent-%COMP%]   .book-info[_ngcontent-%COMP%]   .book-details[_ngcontent-%COMP%]   .favorite-date[_ngcontent-%COMP%]{color:var(--ion-color-danger);font-weight:500}.favorite-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.favorite-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex:1;min-width:120px}.empty-state[_ngcontent-%COMP%]{margin-top:50px}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{text-align:center;padding:40px 20px}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-primary);margin-bottom:10px}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);line-height:1.4}.home-button[_ngcontent-%COMP%]{margin-top:30px}"]})}}return n})(),O=(()=>{class n{static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275mod=t.oAB({type:n})}static{this.\u0275inj=t.cJS({imports:[i.Pc,g.ez,m.u5,d.Bz.forChild([{path:"",component:M}])]})}}return n})()}}]);