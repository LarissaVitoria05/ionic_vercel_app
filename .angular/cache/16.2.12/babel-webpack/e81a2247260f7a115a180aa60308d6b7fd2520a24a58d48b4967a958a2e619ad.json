{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/jucie/Downloads/ioniclivrodoharrypotter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let HomePage = class HomePage {\n  constructor(api, fav, router, loadingCtrl) {\n    this.api = api;\n    this.fav = fav;\n    this.router = router;\n    this.loadingCtrl = loadingCtrl;\n    this.currentBook = null;\n    this.isLoading = false;\n  }\n  ngOnInit() {\n    this.loadRandomBook();\n  }\n  ionViewWillEnter() {\n    this.loadRandomBook();\n  }\n  loadRandomBook() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.isLoading = true;\n      const load = yield _this.loadingCtrl.create({\n        message: 'Carregando livro...'\n      });\n      yield load.present();\n      _this.api.getRandomBook().subscribe({\n        next: b => {\n          _this.currentBook = b;\n          load.dismiss();\n          _this.isLoading = false;\n        },\n        error: () => {\n          load.dismiss();\n          _this.isLoading = false;\n        }\n      });\n    })();\n  }\n  goToDetails() {\n    if (this.currentBook) this.router.navigate(['/book-details'], {\n      state: {\n        book: this.currentBook\n      }\n    });\n  }\n  addFavorite() {\n    if (this.currentBook) {\n      this.fav.saveFavorite(this.currentBook);\n    }\n  }\n};\nHomePage = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss']\n})], HomePage);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}