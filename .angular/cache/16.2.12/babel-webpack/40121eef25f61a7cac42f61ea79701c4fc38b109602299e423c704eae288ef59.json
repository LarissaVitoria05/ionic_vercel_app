{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/jucie/Downloads/ioniclivrodoharrypotter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nexport let FavoritesService = /*#__PURE__*/(() => {\n  class FavoritesService {\n    constructor() {\n      this.storageKey = 'harryPotterFavorites';\n    }\n    getFavorites() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const json = localStorage.getItem(_this.storageKey);\n          return json ? JSON.parse(json) : [];\n        } catch (error) {\n          console.error('Erro ao buscar favoritos:', error);\n          return [];\n        }\n      })();\n    }\n    saveFavorite(book) {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const favs = yield _this2.getFavorites();\n          if (!favs.some(f => f.number === book.number)) {\n            favs.push(book);\n            localStorage.setItem(_this2.storageKey, JSON.stringify(favs));\n            console.log('Favorito salvo:', book.originalTitle);\n          } else {\n            console.log('Livro já está nos favoritos');\n          }\n        } catch (error) {\n          console.error('Erro ao salvar favorito:', error);\n        }\n      })();\n    }\n    removeFavorite(bookNumber) {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const favs = yield _this3.getFavorites();\n          const filtered = favs.filter(f => f.number !== bookNumber);\n          localStorage.setItem(_this3.storageKey, JSON.stringify(filtered));\n          console.log('Favorito removido:', bookNumber);\n        } catch (error) {\n          console.error('Erro ao remover favorito:', error);\n        }\n      })();\n    }\n    isFavorite(bookNumber) {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const favs = yield _this4.getFavorites();\n          return favs.some(f => f.number === bookNumber);\n        } catch (error) {\n          console.error('Erro ao verificar favorito:', error);\n          return false;\n        }\n      })();\n    }\n    static {\n      this.ɵfac = function FavoritesService_Factory(t) {\n        return new (t || FavoritesService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: FavoritesService,\n        factory: FavoritesService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return FavoritesService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}